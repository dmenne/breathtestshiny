# Does not work on Windows
# Assuming this file is in the directory
# docker-compose up . 
version: "3"
services:
  breathtestshiny:
    image: dmenne/breathtestshiny
    user: 'root'
    ports:
      - "3839:3838"
    volumes:
      - 'shiny_logs:/var/log/shiny-server'  
    restart: unless-stopped
    labels:
      - com.centurylinklabs.watchtower.enable=true

  watchtower:
    image: v2tec/watchtower 
    labels:
      com.centurylinklabs.watchtower.enable: "true"
    volumes:
      - /var/run/docker.sock:/var/run/docker.sock
      - /root/.docker/config.json:/config.json
    command: --interval 3000 --label-enable  --cleanup
    restart: unless-stopped

volumes: 
   shiny_logs: